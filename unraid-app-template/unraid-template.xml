<?xml version="1.0"?>
<!--
  Unraid Community Applications Template

  Installation:
    1. Copy this file to: /boot/config/plugins/community.applications/private/<appname>/<appname>.xml
    2. The app will appear in Apps > "private" section
    3. Or generate automatically with: ./scripts/create-template.sh

  Customization:
    - Replace YOUR_USERNAME with your GitHub username
    - Replace myapp with your application name
    - Update ports, volumes, and environment variables as needed
-->
<Container version="2">
  <!-- Basic Info -->
  <Name>myapp</Name>
  <Repository>ghcr.io/YOUR_USERNAME/myapp:latest</Repository>
  <Registry>https://ghcr.io/</Registry>
  <Network>bridge</Network>
  <MyIP/>
  <Shell>bash</Shell>
  <Privileged>false</Privileged>

  <!-- Links -->
  <Support>https://github.com/YOUR_USERNAME/myapp/issues</Support>
  <Project>https://github.com/YOUR_USERNAME/myapp</Project>

  <!-- Display -->
  <Overview>My custom application deployed via CI/CD pipeline with HITL approval.</Overview>
  <Category>Tools:</Category>
  <WebUI>http://[IP]:[PORT:3000]/</WebUI>
  <Icon>https://raw.githubusercontent.com/YOUR_USERNAME/myapp/main/icon.png</Icon>

  <!-- Template Info -->
  <TemplateURL/>
  <ExtraParams/>
  <PostArgs/>
  <CPUset/>
  <DateInstalled></DateInstalled>
  <DonateText/>
  <DonateLink/>
  <Requires/>

  <!-- Port Mappings -->
  <Config
    Name="Web Port"
    Target="3000"
    Default="3000"
    Mode="tcp"
    Description="Web interface port. Map to any available host port."
    Type="Port"
    Display="always"
    Required="true"
    Mask="false">3000</Config>

  <!-- Volume Mappings -->
  <Config
    Name="Data Directory"
    Target="/app/data"
    Default="/mnt/user/appdata/myapp/data"
    Mode="rw"
    Description="Persistent data storage. All application data is stored here."
    Type="Path"
    Display="always"
    Required="true"
    Mask="false">/mnt/user/appdata/myapp/data</Config>

  <!-- Environment Variables -->
  <Config
    Name="Timezone"
    Target="TZ"
    Default="America/Chicago"
    Mode=""
    Description="Container timezone (IANA format, e.g., America/New_York)"
    Type="Variable"
    Display="always"
    Required="false"
    Mask="false">America/Chicago</Config>

  <Config
    Name="Node Environment"
    Target="NODE_ENV"
    Default="production"
    Mode=""
    Description="Runtime environment (production recommended)"
    Type="Variable"
    Display="advanced"
    Required="false"
    Mask="false">production</Config>

  <!-- Advanced: User/Group IDs for file permissions -->
  <Config
    Name="PUID"
    Target="PUID"
    Default="99"
    Mode=""
    Description="User ID for file permissions (99 = nobody on Unraid)"
    Type="Variable"
    Display="advanced"
    Required="false"
    Mask="false">99</Config>

  <Config
    Name="PGID"
    Target="PGID"
    Default="100"
    Mode=""
    Description="Group ID for file permissions (100 = users on Unraid)"
    Type="Variable"
    Display="advanced"
    Required="false"
    Mask="false">100</Config>
</Container>
